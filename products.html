<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<title id="pageTitle" data-ar="المنتجات" data-en="Products">Products</title>    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet" />

    <!-- Font Awesome -->
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/styles.css" rel="stylesheet" />

    
<div id="loading-screen">
  <div class="loader-container">
    <img src="/assets/img/navbar-logo.svg" alt="شعار الموقع" class="logo">
    <div class="dots-container">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
  </div>
</div>






    <!-- الشريط العلوي -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">
                <img src="assets/img/navbar-logo.svg" alt="عرب لاب">
            </a>
            <div class="nav-links">
                <a href="index.html" data-ar="الخدمات" data-en="Services">الخدمات</a>
                <a href="products.html" data-ar="المنتجات" data-en="Products">المنتجات</a>
                <a href="index.html" data-ar="من نحن" data-en="About Us">من نحن</a>
                <a href="clients.html" data-ar="العملاء" data-en="Clients">العملاء</a>
                <a href="contact.html" data-ar="اتصل بنا" data-en="Contact Us">اتصل بنا</a>
                <button class="lang-btn" id="langToggle">English</button>
            </div>
            <button class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>
    <!-- السلايدر الرئيسي -->
<style>:root {
    --primary-color: #005f8c;
    --secondary-color: #ffffff;
    --accent-color: #2e7d32;
    --text-dark: #333;
    --text-light: #005f8c;
    --bg-light: #005f8c;
    --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    --transition: all 0.3s ease;
}

.navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    padding: 20px 0;
    z-index: 1000;
    transition: all 0.4s ease;
    background-color: rgba(255, 255, 255, 0.1); /* شفاف في البداية */
    backdrop-filter: blur(10px); /* تأثير الضبابية */
    -webkit-backdrop-filter: blur(10px); /* لدعم سفاري */
}
.logo img {
    height: 50px;
    transition: var(--transition);
    filter: brightness(1) invert(0); /* يجعل الشعار أبيض */
}
</style>

<!-- Portfolio Section -->
<section class="page-section" id="portfolio">
    <div class="container">
        <div class="text-center">
          </div>
        <div class="row">
            
            <style>.shadow-3d {
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transition: box-shadow 0.3s ease-in-out;
}

.shadow-3d:hover {
  box-shadow: 0 8px 16px rgba(0,0,0,0.4);
}
</style>


<div class="container py-5">
  <div class="row" id="productContainer">
    <!-- سيتم توليد المنتجات والشعارات هنا من generateProducts.js -->
  </div>
</div>

<!-- مكان المودالات -->
<div id="modalsContainer"></div>

<!-- ملفات الجافاسكريبت -->
<script src="products.js"></script>
<script src="generateProducts.js"></script>




<div class="row" id="product-cards"></div>
<div id="product-modals"></div>

<script>
const cardsContainer = document.getElementById('product-cards');
const modalsContainer = document.getElementById('product-modals');

products.forEach(product => {
  // كود الكرت
  cardsContainer.innerHTML += `
    <div class="col-lg-4 col-sm-6 mb-4">
      <div class="shadow-3d">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal${product.id}">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x"></i></div>
            </div>
            <img class="img-fluid" src="${product.img_main}" alt="${product.title_en}" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading" data-en="${product.title_en}" data-ar="${product.title_ar}">${product.title_ar}</div>
            <div class="portfolio-caption-subheading text-muted" data-en="${product.model}" data-ar="${product.model}"></div>
          </div>
        </div>
      </div>
    </div>
  `;

  // كود المودال
  const thumbnailsHTML = product.thumbnails.map(img => `
    <img src="${img}" class="img-thumbnail thumbnail-image" style="width:90px; cursor:pointer;">
  `).join('');

  modalsContainer.innerHTML += `
    <div class="portfolio-modal modal fade" id="portfolioModal${product.id}" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-xl">
        <div class="modal-content p-4 position-relative" style="max-width: 1200px;">
          <button type="button" class="position-absolute top-0 end-0 m-3 z-3 btn-close-custom" data-bs-dismiss="modal" aria-label="Close">
            <img src="assets/img/close-icon.svg" alt="Close" style="width:24px; height:24px;" />
          </button>
          <div class="container">
            <div class="row justify-content-center">
              <div class="col-lg-10">
                <div class="modal-body">
                  <div class="row align-items-start mb-4 g-4">
                    <div class="col-md-6 d-flex justify-content-center">
                      <img class="img-fluid border main-image" src="${product.img_main}" alt="${product.title_en}" style="cursor: zoom-in; max-height: 100%;" />
                    </div>
                    <div class="col-md-6 text-start product-info">
                      <h4 class="text-uppercase fw-bold mb-3 text-center" data-en="${product.title_en}" data-ar="${product.title_ar}">
                        ${product.title_en}
                      </h4>
                      <p class="text-muted mb-1 text-center"><strong class="text-dark">Brand:</strong> ${product.brand}</p>
                      <p class="mb-2 text-center"><strong class="text-dark">Model:</strong> ${product.model}</p>
                      <div class="zoom-box">
                        <span>Move mouse over the image to zoom</span>
                        <img class="zoomed-image" src="" alt="Zoomed view" />
                      </div>
                      <div class="d-flex justify-content-center gap-2 flex-wrap mt-3">
                        ${thumbnailsHTML}
                      </div>
                      <div class="d-flex justify-content-center flex-wrap gap-2 mt-3">
                        <a class="btn btn-primary btn-lg text-uppercase requestProductBtn" href="#">Request Product</a>
                        <a class="btn btn-outline-secondary btn-lg text-uppercase" href="${product.catalog}" download>Download Specs</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  `;
});
</script>










        <div class="row">
        </div>
    </div>
</section>








<style>
/* Zoom Box Styles */
.zoom-box {
  width: 100%;
  max-width: 400px;
  height: 250px;
  border: 1.5px solid #bbb;
  border-radius: 12px;
  background-color: #fff;
  margin: 15px auto;
  position: relative;
  user-select: none;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  color: #666;
  font-weight: 600;
  transition: background-color 0.3s ease, color 0.3s ease;
  overflow: hidden;
  animation: fadeInZoomBox 0.3s ease forwards;
}

.zoom-box.zooming {
  color: transparent;
  font-weight: normal;
  background-color: #f9f9f9;
  border-color: #888;
}

.zoom-box span {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  user-select: none;
}

.zoom-box .zoomed-image {
  position: absolute;
  top: 0;
  left: 0;
  user-select: none;
  display: none;
  max-width: none;
  max-height: none;
  will-change: transform;
  pointer-events: none;
  border-radius: 12px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
}

.zoom-box.zooming .zoomed-image {
  display: block;
}

@keyframes fadeInZoomBox {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Image Zoom Hover */
.image-zoom-container {
  overflow: hidden;
  display: inline-block;
  position: relative;
  max-height: 400px;
}

.image-zoom-container img {
  transition: transform 0.3s ease;
}

.image-zoom-container:hover img {
  transform: scale(1.5);
  cursor: zoom-in;
}

/* Responsive Thumbnail Styles */
@media (max-width: 576px) {
  .portfolio-modal .d-flex.justify-content-center.gap-2.flex-wrap.mt-3 {
    flex-wrap: nowrap !important;
    overflow-x: hidden;
  }

  .portfolio-modal .img-thumbnail {
    flex: 0 0 25%;
    max-width: 25%;
    cursor: pointer;
    margin-right: 0;
  }
}

/* ** إخفاء مربع التكبير في الشاشات الصغيرة أقل من 992 بكسل ** */
@media (max-width: 991.98px) {
  .zoom-box {
    display: none !important;
  }
}
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // 1. توزيع الصور المصغرة تلقائيًا حسب عددها
    function adjustAllThumbnails() {
      const containers = document.querySelectorAll('.portfolio-modal .d-flex.justify-content-center.gap-2.flex-wrap.mt-3');

      containers.forEach(container => {
        const thumbnails = container.querySelectorAll('.thumbnail-image'); // تأكد من وجود الكلاس هذا
        const count = thumbnails.length;
        if (count === 0) return;

        const widthPercent = Math.min(80 / count, 25); // لا تزيد عن 25% لكل صورة

        thumbnails.forEach(thumb => {
          thumb.style.flex = `0 0 ${widthPercent}%`;
          thumb.style.maxWidth = `${widthPercent}%`;
          thumb.style.marginRight = '0';
        });

        container.style.flexWrap = 'nowrap';
        container.style.overflowX = 'auto';
      });
    }

    // 2. تعيين الصورة الرئيسية عند الضغط على المصغرات
    function setupThumbnailClicks() {
      document.querySelectorAll('.thumbnail-image').forEach(function (thumb) {
        thumb.addEventListener('click', function () {
          const modal = this.closest('.modal-body');
          const mainImage = modal.querySelector('.main-image');
          const zoomedImage = modal.querySelector('.zoomed-image');
          const newSrc = this.src;

          if (mainImage) mainImage.src = newSrc;
          if (zoomedImage) zoomedImage.src = newSrc;
        });
      });
    }

    // 3. منطق التكبير عند تمرير الماوس
    function zoomImage(event, mainImage, zoomBox, zoomedImage) {
      if (window.innerWidth < 992) return; // تعطيل التكبير في الهواتف

      zoomBox.classList.add('zooming');
      zoomedImage.style.display = 'block';
      zoomedImage.src = mainImage.src;

      const rect = mainImage.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;

      const scale = 2;
      zoomedImage.style.width = mainImage.offsetWidth * scale + 'px';
      zoomedImage.style.height = mainImage.offsetHeight * scale + 'px';

      let left = -(x * scale - zoomBox.offsetWidth / 2);
      let top = -(y * scale - zoomBox.offsetHeight / 2);

      left = Math.min(0, Math.max(left, zoomBox.offsetWidth - zoomedImage.offsetWidth));
      top = Math.min(0, Math.max(top, zoomBox.offsetHeight - zoomedImage.offsetHeight));

      zoomedImage.style.left = left + 'px';
      zoomedImage.style.top = top + 'px';
    }

    function resetZoom(zoomBox, zoomedImage) {
      if (window.innerWidth < 992) return;
      zoomBox.classList.remove('zooming');
      zoomedImage.style.display = 'none';
    }

    // 4. عند تحميل الصفحة: نفّذ الإعدادات
    adjustAllThumbnails();
    setupThumbnailClicks();

    // 5. إعادة تهيئة المصغرات عند تغيير حجم النافذة
    window.addEventListener('resize', adjustAllThumbnails);

    // 6. توفير وظائف التكبير للعناصر الموجودة في الصفحة
    window.zoomImage = zoomImage;
    window.resetZoom = resetZoom;
  });
</script>
<script>
  function setMainImage(id, src) {
    document.getElementById(id).src = src;
    document.getElementById('zoomedImage').src = src;
  }

  function zoomImage(e) {
  if(window.innerWidth < 992) return; // لا نفعل التكبير إذا كانت الشاشة صغيرة

  const mainImage = document.getElementById('mainImage1');
  const zoomBox = document.getElementById('zoomBox');
  const zoomedImage = document.getElementById('zoomedImage');

  zoomBox.classList.add('zooming');
  zoomedImage.style.display = 'block';
  zoomedImage.src = mainImage.src;

  const rect = mainImage.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;

  const scale = 2;

  zoomedImage.style.width = mainImage.offsetWidth * scale + 'px';
  zoomedImage.style.height = mainImage.offsetHeight * scale + 'px';

  let left = -(x * scale - zoomBox.offsetWidth / 2);
  let top = -(y * scale - zoomBox.offsetHeight / 2);

  left = Math.min(0, Math.max(left, zoomBox.offsetWidth - zoomedImage.offsetWidth));
  top = Math.min(0, Math.max(top, zoomBox.offsetHeight - zoomedImage.offsetHeight));

  zoomedImage.style.left = left + 'px';
  zoomedImage.style.top = top + 'px';
}

function resetZoom() {
  if(window.innerWidth < 992) return; // لا نفعل أي شيء إذا الشاشة صغيرة

  const zoomBox = document.getElementById('zoomBox');
  const zoomedImage = document.getElementById('zoomedImage');
  zoomBox.classList.remove('zooming');
  zoomedImage.style.display = 'none';
}

</script>

<!-- JavaScript to Change Main Image -->
<script>
    function setMainImage(imageId, src) {
        document.getElementById(imageId).src = src;
    }
</script>

        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    <!-- Footer-->
    <footer class="footer py-4" style="background-color: #c8c8c8;">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-4 text-lg-start" data-en="Copyright © Eng.Mohammad Alkhattabi 2025" data-ar="حقوق النشر © م/محمد الخطابي 2025">
            Copyright © Your Website 2023
          </div>
      <div class="col-lg-4 my-3 my-lg-0 d-flex justify-content-center gap-3">
<style>
  .social-btn {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border-radius: 1rem;
    border: 1px solid rgba(255 255 255 / 0.3);
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    transition: transform 0.3s ease;
    box-sizing: border-box;
    cursor: pointer;
    margin: 5px; /* مسافة بين الأزرار */
  }
  .social-btn:hover {
    transform: scale(1.1) translateY(-8px);
  }
  .social-icon {
    width: 20px;
    height: 20px;
    fill: white;
    display: block; /* إزالة تأثير margin افتراضي */
  }
  
</style>
 <!-- Facebook Button -->
<a href="#!" aria-label="Facebook" class="social-btn" style="background: linear-gradient(to bottom right, #1877f2, #0043ce); color: white; display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 8px; text-decoration: none;">
<i class="fab fa-facebook-f" style="font-size: 24px;"></i>

</a>

<!-- WhatsApp Button -->
<a href="#!" aria-label="WhatsApp" class="social-btn" style="background: linear-gradient(to bottom right, #25d366, #128c7e); color: white; display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 8px; text-decoration: none;">
  <i class="fab fa-whatsapp" style="font-size: 24px;"></i>
</a>

<!-- Instagram Button -->
<a href="#!" aria-label="Instagram" class="social-btn" style="background: linear-gradient(to bottom right, #f58529, #dd2a7b, #8134af, #515bd4); color: white; display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 8px; text-decoration: none;">
  <i class="fab fa-instagram" style="font-size: 24px;" ></i>
</a>

<!-- Telegram Button -->
<a href="#!" aria-label="Telegram" class="social-btn" style="background: linear-gradient(to bottom right, #0088cc, #004c99); 
color: white; display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 10px; text-decoration: none;">
  <i class="fab fa-telegram-plane" style="font-size: 24px;"></i>
</a>

        </div>

          <div class="col-lg-4 text-lg-end">
            <a class="link-dark text-decoration-none me-3" href="#!" data-en="Privacy Policy" data-ar="سياسة الخصوصية">Privacy Policy</a>
            <a class="link-dark text-decoration-none" href="#!" data-en="Terms of Use" data-ar="شروط الاستخدام">Terms of Use</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- JavaScript and closing tags -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>


</body>
</html>

